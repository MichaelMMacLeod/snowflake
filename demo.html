<!DOCTYPE html>
<html>

<head>
  <title>Demo</title>
  <style>
    html {
      color-scheme: light dark;
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --SF-color-background: #111111;
        --SF-color-foreground: #ffffff;
      }
    }

    @media (prefers-color-scheme: light) {
      :root {
        --SF-color-background: #ffffff;
        --SF-color-foreground: #000000;
      }
    }
  </style>
</head>

<body>
  <script src="dist/sf_snowflake.js"></script>
  <script src="dist/sf_graph.js"></script>
  <script>
    customElements.define('sf-snowflake', sf_snowflake.default);
    customElements.define('sf-graph', sf_graph.default);
    let snowflake = document.createElement('sf-snowflake');
    let graph = document.createElement('sf-graph');
    document.body.appendChild(graph);
    document.body.appendChild(snowflake);
    const defaultSnowflakeID = '17827239998';
    let config = {
      graph: {},
      snowflake: {},
    };
    config.graph = {
      snowflakeID: defaultSnowflakeID,
      aspectRatio: 3,
      percentGrown: 0,
      handleMovedCallback: snowflakeID => {
        config.snowflake.snowflakeID = snowflakeID;
        snowflake.configure(config.snowflake);
      },
    };
    config.snowflake = {
      snowflakeID: defaultSnowflakeID,
      upsCap: 100000,
      targetGrowthTimeMS: 0,
      finishedGrowingCallback: () => console.log('done growing'),
      updatedCallback: () => {
        config.graph.snowflakeID = config.snowflake.snowflakeID;
        config.graph.percentGrown = snowflake.percentGrown();
        graph.configure(config.graph);
      },
    };
    graph.configure(config.graph);
    snowflake.configure(config.snowflake);
  </script>
</body>

</html>